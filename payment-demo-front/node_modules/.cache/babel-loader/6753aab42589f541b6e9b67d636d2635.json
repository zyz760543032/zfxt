{"remainingRequest":"D:\\wxzf\\03-源码\\最终版源代码\\demo\\payment-demo-front\\node_modules\\babel-loader\\lib\\index.js!D:\\wxzf\\03-源码\\最终版源代码\\demo\\payment-demo-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\wxzf\\03-源码\\最终版源代码\\demo\\payment-demo-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\wxzf\\03-源码\\最终版源代码\\demo\\payment-demo-front\\src\\views\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\wxzf\\03-源码\\最终版源代码\\demo\\payment-demo-front\\src\\views\\index.vue","mtime":1639489246417},{"path":"D:\\wxzf\\03-源码\\最终版源代码\\demo\\payment-demo-front\\babel.config.js","mtime":1635679696886},{"path":"D:\\wxzf\\03-源码\\最终版源代码\\demo\\payment-demo-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\wxzf\\03-源码\\最终版源代码\\demo\\payment-demo-front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\wxzf\\03-源码\\最终版源代码\\demo\\payment-demo-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\wxzf\\03-源码\\最终版源代码\\demo\\payment-demo-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHByb2R1Y3RBcGkgZnJvbSAnLi4vYXBpL3Byb2R1Y3QnOwppbXBvcnQgd3hQYXlBcGkgZnJvbSAnLi4vYXBpL3d4UGF5JzsKaW1wb3J0IG9yZGVySW5mb0FwaSBmcm9tICcuLi9hcGkvb3JkZXJJbmZvJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwYXlCdG5EaXNhYmxlZDogZmFsc2UsCiAgICAgIC8v56Gu6K6k5pSv5LuY5oyJ6ZKu5piv5ZCm56aB55SoCiAgICAgIGNvZGVEaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgLy/lvq7kv6HmlK/ku5jkuoznu7TnoIHlvLnnqpcKICAgICAgcHJvZHVjdExpc3Q6IFtdLAogICAgICAvL+WVhuWTgeWIl+ihqAogICAgICBwYXlPcmRlcjogewogICAgICAgIC8v6K6i5Y2V5L+h5oGvCiAgICAgICAgcHJvZHVjdElkOiAnJywKICAgICAgICAvL+WVhuWTgWlkCiAgICAgICAgcGF5VHlwZTogJ3d4cGF5JyAvL+aUr+S7mOaWueW8jwoKICAgICAgfSwKICAgICAgY29kZVVybDogJycsCiAgICAgIC8vIOS6jOe7tOeggQogICAgICBvcmRlck5vOiAnJywKICAgICAgLy/orqLljZXlj7cKICAgICAgdGltZXI6IG51bGwgLy8g5a6a5pe25ZmoCgogICAgfTsKICB9LAogIC8v6aG16Z2i5Yqg6L295pe25omn6KGMCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgLy/ojrflj5bllYblk4HliJfooagKICAgIHByb2R1Y3RBcGkubGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzLnByb2R1Y3RMaXN0ID0gcmVzcG9uc2UuZGF0YS5wcm9kdWN0TGlzdDsKICAgICAgX3RoaXMucGF5T3JkZXIucHJvZHVjdElkID0gX3RoaXMucHJvZHVjdExpc3RbMF0uaWQ7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v6YCJ5oup5ZWG5ZOBCiAgICBzZWxlY3RJdGVtOiBmdW5jdGlvbiBzZWxlY3RJdGVtKHByb2R1Y3RJZCkgewogICAgICBjb25zb2xlLmxvZygn5ZWG5ZOBaWTvvJonICsgcHJvZHVjdElkKTsKICAgICAgdGhpcy5wYXlPcmRlci5wcm9kdWN0SWQgPSBwcm9kdWN0SWQ7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMucGF5T3JkZXIpOyAvL3RoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9vcmRlcicgfSkKICAgIH0sCiAgICAvL+mAieaLqeaUr+S7mOaWueW8jwogICAgc2VsZWN0UGF5VHlwZTogZnVuY3Rpb24gc2VsZWN0UGF5VHlwZSh0eXBlKSB7CiAgICAgIGNvbnNvbGUubG9nKCfmlK/ku5jmlrnlvI/vvJonICsgdHlwZSk7CiAgICAgIHRoaXMucGF5T3JkZXIucGF5VHlwZSA9IHR5cGU7IC8vdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAnL29yZGVyJyB9KQogICAgfSwKICAgIC8v56Gu6K6k5pSv5LuYCiAgICB0b1BheTogZnVuY3Rpb24gdG9QYXkoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy/npoHnlKjmjInpkq7vvIzpmLLmraLph43lpI3mj5DkuqQKICAgICAgdGhpcy5wYXlCdG5EaXNhYmxlZCA9IHRydWU7IC8v5b6u5L+h5pSv5LuYCgogICAgICBpZiAodGhpcy5wYXlPcmRlci5wYXlUeXBlID09PSAnd3hwYXknKSB7CiAgICAgICAgLy/osIPnlKjnu5/kuIDkuIvljZXmjqXlj6MKICAgICAgICB3eFBheUFwaS5uYXRpdmVQYXkodGhpcy5wYXlPcmRlci5wcm9kdWN0SWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczIuY29kZVVybCA9IHJlc3BvbnNlLmRhdGEuY29kZVVybDsKICAgICAgICAgIF90aGlzMi5vcmRlck5vID0gcmVzcG9uc2UuZGF0YS5vcmRlck5vOyAvL+aJk+W8gOS6jOe7tOeggeW8ueeqlwoKICAgICAgICAgIF90aGlzMi5jb2RlRGlhbG9nVmlzaWJsZSA9IHRydWU7IC8v5ZCv5Yqo5a6a5pe25ZmoCgogICAgICAgICAgX3RoaXMyLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvL+afpeivouiuouWNleaYr+WQpuaUr+S7mOaIkOWKnwogICAgICAgICAgICBfdGhpczIucXVlcnlPcmRlclN0YXR1cygpOwogICAgICAgICAgfSwgMzAwMCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvL+ehruiupOaUr+S7mAogICAgdG9QYXlWMjogZnVuY3Rpb24gdG9QYXlWMigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAvL+emgeeUqOaMiemSru+8jOmYsuatoumHjeWkjeaPkOS6pAogICAgICB0aGlzLnBheUJ0bkRpc2FibGVkID0gdHJ1ZTsgLy/lvq7kv6HmlK/ku5gKCiAgICAgIGlmICh0aGlzLnBheU9yZGVyLnBheVR5cGUgPT09ICd3eHBheScpIHsKICAgICAgICAvL+iwg+eUqOe7n+S4gOS4i+WNleaOpeWPowogICAgICAgIHd4UGF5QXBpLm5hdGl2ZVBheVYyKHRoaXMucGF5T3JkZXIucHJvZHVjdElkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgX3RoaXMzLmNvZGVVcmwgPSByZXNwb25zZS5kYXRhLmNvZGVVcmw7CiAgICAgICAgICBfdGhpczMub3JkZXJObyA9IHJlc3BvbnNlLmRhdGEub3JkZXJObzsgLy/miZPlvIDkuoznu7TnoIHlvLnnqpcKCiAgICAgICAgICBfdGhpczMuY29kZURpYWxvZ1Zpc2libGUgPSB0cnVlOyAvL+WQr+WKqOWumuaXtuWZqAoKICAgICAgICAgIF90aGlzMy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy/mn6Xor6LorqLljZXmmK/lkKbmlK/ku5jmiJDlip8KICAgICAgICAgICAgX3RoaXMzLnF1ZXJ5T3JkZXJTdGF0dXMoKTsKICAgICAgICAgIH0sIDMwMDApOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLy/lhbPpl63lvq7kv6HmlK/ku5jkuoznu7TnoIHlr7nor53moYbml7borqnigJznoa7orqTmlK/ku5jigJ3mjInpkq7lj6/nlKgKICAgIGNsb3NlRGlhbG9nOiBmdW5jdGlvbiBjbG9zZURpYWxvZygpIHsKICAgICAgY29uc29sZS5sb2coJ2Nsb3NlLi4uLi4uLi4uLi4uLi4uLi4nKTsKICAgICAgdGhpcy5wYXlCdG5EaXNhYmxlZCA9IGZhbHNlOwogICAgICBjb25zb2xlLmxvZygn5riF6Zmk5a6a5pe25ZmoJyk7CiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICB9LAogICAgLy8g5p+l6K+i6K6i5Y2V54q25oCBCiAgICBxdWVyeU9yZGVyU3RhdHVzOiBmdW5jdGlvbiBxdWVyeU9yZGVyU3RhdHVzKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIG9yZGVySW5mb0FwaS5xdWVyeU9yZGVyU3RhdHVzKHRoaXMub3JkZXJObykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZygn5p+l6K+i6K6i5Y2V54q25oCB77yaJyArIHJlc3BvbnNlLmNvZGUpOyAvLyDmlK/ku5jmiJDlip/lkI7nmoTpobXpnaLot7PovawKCiAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT09IDApIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCfmuIXpmaTlrprml7blmagnKTsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXM0LnRpbWVyKTsgLy8g5LiJ56eS5ZCO6Lez6L2s5Yiw6K6i5Y2V5YiX6KGoCgogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzNC4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgIHBhdGg6ICcvc3VjY2VzcycKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LCAzMDAwKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"bg-fa of\">\n    <section id=\"index\" class=\"container\">\n      <header class=\"comm-title\">\n        <h2 class=\"fl tac\">\n          <span class=\"c-333\">课程列表</span>\n        </h2>\n      </header>\n      <ul>\n        <li v-for=\"product in productList\" :key=\"product.id\">\n          <a :class=\"['orderBtn', {current:payOrder.productId === product.id}]\" \n            @click=\"selectItem(product.id)\" \n            href=\"javascript:void(0);\" >\n            {{product.title}} \n            ¥{{product.price / 100}}\n          </a>\n        </li>\n      </ul>\n\n      \n      <div class=\"PaymentChannel_payment-channel-panel\">\n        <h3 class=\"PaymentChannel_title\"> \n          选择支付方式 \n        </h3>\n        <div class=\"PaymentChannel_channel-options\" >\n\n          <!-- 选择微信 -->\n          <div :class=\"['ChannelOption_payment-channel-option', {current:payOrder.payType === 'wxpay'}]\"\n          @click=\"selectPayType('wxpay')\">\n            <div class=\"ChannelOption_channel-icon\">\n              <img src=\"../assets/img/wxpay.png\" class=\"ChannelOption_icon\">\n            </div>\n            <div class=\"ChannelOption_channel-info\">\n              <div class=\"ChannelOption_channel-label\">\n                <div class=\"ChannelOption_label\">微信支付</div>\n                <div class=\"ChannelOption_sub-label\"></div>\n                <div class=\"ChannelOption_check-option\"></div>\n              </div>\n            </div>\n          </div>\n\n          <!-- 选择支付宝 -->\n          <div :class=\"['ChannelOption_payment-channel-option', {current:payOrder.payType === 'alipay'}]\"\n          @click=\"selectPayType('alipay')\">\n            <div class=\"ChannelOption_channel-icon\">\n              <img src=\"../assets/img/alipay.png\" class=\"ChannelOption_icon\">\n            </div>\n            <div class=\"ChannelOption_channel-info\">\n              <div class=\"ChannelOption_channel-label\">\n                <div class=\"ChannelOption_label\">支付宝</div>\n                <div class=\"ChannelOption_sub-label\"></div>\n                <div class=\"ChannelOption_check-option\"></div>\n              </div>\n            </div>\n          </div>\n\n        </div>\n      </div>\n\n      <div class=\"payButtom\">\n        <el-button \n        :disabled=\"payBtnDisabled\"\n        type=\"warning\" \n        round \n        style=\"width: 180px;height: 44px;font-size: 18px;\"\n        @click=\"toPay()\">\n          确认支付V3\n        </el-button>\n        <el-button \n        :disabled=\"payBtnDisabled\"\n        type=\"warning\" \n        round \n        style=\"width: 180px;height: 44px;font-size: 18px;\"\n        @click=\"toPayV2()\">\n          确认支付V2\n        </el-button>\n      </div>\n    </section>\n\n    <!-- 微信支付二维码 -->\n    <el-dialog\n      :visible.sync=\"codeDialogVisible\"\n      :show-close=\"false\"\n      @close=\"closeDialog\"\n      width=\"350px\"\n      center>\n     <qriously :value=\"codeUrl\" :size=\"300\"/>\n        <!-- <img src=\"../assets/img/code.png\" alt=\"\" style=\"width:100%\"><br> -->\n        使用微信扫码支付\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport productApi from '../api/product'\nimport wxPayApi from '../api/wxPay'\nimport orderInfoApi from '../api/orderInfo'\n\nexport default {\n\n  data () {\n    return {\n      payBtnDisabled: false, //确认支付按钮是否禁用\n      codeDialogVisible: false, //微信支付二维码弹窗\n      productList: [], //商品列表\n      payOrder: { //订单信息\n        productId: '', //商品id\n        payType: 'wxpay' //支付方式\n      },\n      codeUrl: '', // 二维码\n      orderNo: '', //订单号\n      timer: null // 定时器\n    }\n  },\n\n  //页面加载时执行\n  created () {\n    //获取商品列表\n    productApi.list().then(response => {\n      this.productList = response.data.productList\n      this.payOrder.productId = this.productList[0].id\n    })\n  },\n  \n  methods: {\n    //选择商品\n    selectItem(productId) {\n      console.log('商品id：' + productId)\n      this.payOrder.productId = productId\n      console.log(this.payOrder)\n      //this.$router.push({ path: '/order' })\n    },\n\n    //选择支付方式\n    selectPayType(type) {\n      console.log('支付方式：' + type)\n      this.payOrder.payType = type\n      //this.$router.push({ path: '/order' })\n    },\n\n    //确认支付\n    toPay(){\n      //禁用按钮，防止重复提交\n      this.payBtnDisabled = true\n\n      //微信支付\n      if(this.payOrder.payType === 'wxpay'){\n          //调用统一下单接口\n        wxPayApi.nativePay(this.payOrder.productId).then(response => {\n          this.codeUrl = response.data.codeUrl\n          this.orderNo = response.data.orderNo\n          \n          //打开二维码弹窗\n          this.codeDialogVisible = true\n\n          //启动定时器\n          this.timer = setInterval(() => {\n            //查询订单是否支付成功\n            this.queryOrderStatus()\n          }, 3000)\n\n        })\n      }\n    },\n\n    //确认支付\n    toPayV2(){\n      //禁用按钮，防止重复提交\n      this.payBtnDisabled = true\n\n      //微信支付\n      if(this.payOrder.payType === 'wxpay'){\n          //调用统一下单接口\n        wxPayApi.nativePayV2(this.payOrder.productId).then(response => {\n          this.codeUrl = response.data.codeUrl\n          this.orderNo = response.data.orderNo\n          \n          //打开二维码弹窗\n          this.codeDialogVisible = true\n\n          //启动定时器\n          this.timer = setInterval(() => {\n            //查询订单是否支付成功\n            this.queryOrderStatus()\n          }, 3000)\n\n        })\n      }\n    },\n\n    //关闭微信支付二维码对话框时让“确认支付”按钮可用\n    closeDialog(){\n      console.log('close.................')\n      this.payBtnDisabled = false\n      console.log('清除定时器')\n      clearInterval(this.timer)\n    },\n\n\n    // 查询订单状态\n    queryOrderStatus() {\n\n      orderInfoApi.queryOrderStatus(this.orderNo).then(response => {\n        console.log('查询订单状态：' + response.code)\n\n        // 支付成功后的页面跳转\n        if (response.code === 0) {\n          console.log('清除定时器')\n          clearInterval(this.timer)\n          // 三秒后跳转到订单列表\n          setTimeout(() => {\n            this.$router.push({ path: '/success' })\n          }, 3000)\n        }\n      })\n    }\n  }\n}\n</script>"],"sourceRoot":"src/views"}]}