{"remainingRequest":"D:\\project\\test\\front\\cli\\payment-demo\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\test\\front\\cli\\payment-demo\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\project\\test\\front\\cli\\payment-demo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\test\\front\\cli\\payment-demo\\src\\views\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\test\\front\\cli\\payment-demo\\src\\views\\index.vue","mtime":1636310834905},{"path":"D:\\project\\test\\front\\cli\\payment-demo\\babel.config.js","mtime":1635679696886},{"path":"D:\\project\\test\\front\\cli\\payment-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\test\\front\\cli\\payment-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\project\\test\\front\\cli\\payment-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\test\\front\\cli\\payment-demo\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHByb2R1Y3RBcGkgZnJvbSAnLi4vYXBpL3Byb2R1Y3QnOwppbXBvcnQgcGF5QXBpIGZyb20gJy4uL2FwaS9wYXknOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBheUJ0bkRpc2FibGVkOiBmYWxzZSwKICAgICAgY29kZURpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBwcm9kdWN0TGlzdDogW10sCiAgICAgIHBheU9yZGVyOiB7CiAgICAgICAgcGF5VHlwZTogJ3d4cGF5JwogICAgICB9LAogICAgICBjb2RlVXJsOiAnJwogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHByb2R1Y3RBcGkubGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzLnByb2R1Y3RMaXN0ID0gcmVzcG9uc2UuZGF0YS52aXBQcm9kdWN0TGlzdDsKICAgICAgX3RoaXMucGF5T3JkZXIucHJvZHVjdElkID0gX3RoaXMucHJvZHVjdExpc3RbMF0uaWQ7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNlbGVjdEl0ZW06IGZ1bmN0aW9uIHNlbGVjdEl0ZW0ocHJvZHVjdElkKSB7CiAgICAgIHRoaXMucGF5T3JkZXIucHJvZHVjdElkID0gcHJvZHVjdElkOyAvL3RoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9vcmRlcicgfSkKICAgIH0sCiAgICBzZWxlY3RQYXlUeXBlOiBmdW5jdGlvbiBzZWxlY3RQYXlUeXBlKHR5cGUpIHsKICAgICAgY29uc29sZS5sb2codHlwZSk7CiAgICAgIHRoaXMucGF5T3JkZXIucGF5VHlwZSA9IHR5cGU7IC8vdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAnL29yZGVyJyB9KQogICAgfSwKICAgIHRvUGF5OiBmdW5jdGlvbiB0b1BheSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnBheUJ0bkRpc2FibGVkID0gdHJ1ZTsgLy/lvq7kv6HmlK/ku5gKCiAgICAgIGlmICh0aGlzLnBheU9yZGVyLnBheVR5cGUgPT09ICd3eHBheScpIHsKICAgICAgICAvL+iwg+eUqOe7n+S4gOS4i+WNleaOpeWPowogICAgICAgIHBheUFwaS53ZWl4aW5QYXkodGhpcy5wYXlPcmRlcikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzMi5jb2RlVXJsID0gcmVzcG9uc2UuZGF0YS5jb2RlVXJsOwogICAgICAgICAgX3RoaXMyLmNvZGVEaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA,OAAA,UAAA,MAAA,gBAAA;AACA,OAAA,MAAA,MAAA,YAAA;AAEA,eAAA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,cAAA,EAAA,KADA;AAEA,MAAA,iBAAA,EAAA,KAFA;AAGA,MAAA,WAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA;AACA,QAAA,OAAA,EAAA;AADA,OAJA;AAOA,MAAA,OAAA,EAAA;AAPA,KAAA;AASA,GAZA;AAcA,EAAA,OAdA,qBAcA;AAAA;;AACA,IAAA,UAAA,CAAA,IAAA,GAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,MAAA,KAAA,CAAA,WAAA,GAAA,QAAA,CAAA,IAAA,CAAA,cAAA;AACA,MAAA,KAAA,CAAA,QAAA,CAAA,SAAA,GAAA,KAAA,CAAA,WAAA,CAAA,CAAA,EAAA,EAAA;AACA,KAHA;AAIA,GAnBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,SADA,EACA;AACA,WAAA,QAAA,CAAA,SAAA,GAAA,SAAA,CADA,CAEA;AACA,KAJA;AAMA,IAAA,aANA,yBAMA,IANA,EAMA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,WAAA,QAAA,CAAA,OAAA,GAAA,IAAA,CAFA,CAGA;AACA,KAVA;AAYA,IAAA,KAZA,mBAYA;AAAA;;AACA,WAAA,cAAA,GAAA,IAAA,CADA,CAEA;;AACA,UAAA,KAAA,QAAA,CAAA,OAAA,KAAA,OAAA,EAAA;AACA;AACA,QAAA,MAAA,CAAA,SAAA,CAAA,KAAA,QAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,UAAA,MAAA,CAAA,OAAA,GAAA,QAAA,CAAA,IAAA,CAAA,OAAA;AACA,UAAA,MAAA,CAAA,iBAAA,GAAA,IAAA;AACA,SAHA;AAIA;AACA;AAtBA;AArBA,CAAA","sourcesContent":["<template>\n  <div class=\"bg-fa of\">\n    <section id=\"index\" class=\"container\">\n      <header class=\"comm-title\">\n        <h2 class=\"fl tac\">\n          <span class=\"c-333\">黄金VIP会员</span>\n        </h2>\n      </header>\n      <ul>\n        <li v-for=\"product in productList\" :key=\"product.id\">\n          <a :class=\"['orderBtn', {current:payOrder.productId === product.id}]\" @click=\"selectItem(product.id)\" href=\"javascript:void(0);\" >\n            {{product.title}} ¥{{product.price / 100}}\n          </a>\n        </li>\n      </ul>\n\n      \n      <div class=\"PaymentChannel_payment-channel-panel\">\n        <h3 class=\"PaymentChannel_title\"> \n          选择支付方式 \n        </h3>\n        <div class=\"PaymentChannel_channel-options\" >\n\n          <!-- 选择微信 -->\n          <div :class=\"['ChannelOption_payment-channel-option', {current:payOrder.payType === 'wxpay'}]\"\n          @click=\"selectPayType('wxpay')\">\n            <div class=\"ChannelOption_channel-icon\">\n              <img src=\"../assets/img/wxpay.png\" class=\"ChannelOption_icon\">\n            </div>\n            <div class=\"ChannelOption_channel-info\">\n              <div class=\"ChannelOption_channel-label\">\n                <div class=\"ChannelOption_label\">微信支付</div>\n                <div class=\"ChannelOption_sub-label\"></div>\n                <div class=\"ChannelOption_check-option\"></div>\n              </div>\n            </div>\n          </div>\n\n          <!-- 选择支付宝 -->\n          <div :class=\"['ChannelOption_payment-channel-option', {current:payOrder.payType === 'alipay'}]\"\n          @click=\"selectPayType('alipay')\">\n            <div class=\"ChannelOption_channel-icon\">\n              <img src=\"../assets/img/alipay.png\" class=\"ChannelOption_icon\">\n            </div>\n            <div class=\"ChannelOption_channel-info\">\n              <div class=\"ChannelOption_channel-label\">\n                <div class=\"ChannelOption_label\">支付宝</div>\n                <div class=\"ChannelOption_sub-label\"></div>\n                <div class=\"ChannelOption_check-option\"></div>\n              </div>\n            </div>\n          </div>\n\n        </div>\n      </div>\n\n      <div class=\"payButtom\">\n        <el-button \n        :disabled=\"payBtnDisabled\"\n        type=\"warning\" \n        round \n        style=\"width: 180px;height: 44px;font-size: 18px;\"\n        @click=\"toPay()\">\n          确认支付\n        </el-button>\n      </div>\n    </section>\n\n    <el-dialog\n      :visible.sync=\"codeDialogVisible\"\n      :show-close=\"false\"\n      :destroy-on-close=\"true\"\n      custom-class=\"codeDialog\"\n      width=\"30%\"\n      center>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <qriously :value=\"codeUrl\" :size=\"300\"/>\n        <!-- <img src=\"../assets/img/code.png\" alt=\"\" style=\"width:100%\"><br> -->\n        使用微信扫码支付\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport productApi from '../api/product'\nimport payApi from '../api/pay'\n\nexport default {\n\n  data () {\n    return {\n      payBtnDisabled: false,\n      codeDialogVisible: false,\n      productList: [],\n      payOrder: {\n        payType: 'wxpay'\n      },\n      codeUrl: ''\n    }\n  },\n\n  created () {\n    productApi.list().then(response => {\n      this.productList = response.data.vipProductList\n      this.payOrder.productId = this.productList[0].id\n    })\n  },\n  \n  methods: {\n    selectItem(productId) {\n      this.payOrder.productId = productId\n      //this.$router.push({ path: '/order' })\n    },\n\n    selectPayType(type) {\n      console.log(type)\n      this.payOrder.payType = type\n      //this.$router.push({ path: '/order' })\n    },\n\n    toPay(){\n      this.payBtnDisabled = true\n        //微信支付\n        if(this.payOrder.payType === 'wxpay'){\n            //调用统一下单接口\n          payApi.weixinPay(this.payOrder).then(response => {\n            this.codeUrl = response.data.codeUrl\n            this.codeDialogVisible = true\n          })\n        }\n    }\n  }\n}\n</script>\n\n<style>\n.codeDialog .el-dialog__header {\n    padding: 0;\n}\n.codeDialog .el-dialog__body {\n    padding: 5px;\n}\n</style>"],"sourceRoot":"src/views"}]}